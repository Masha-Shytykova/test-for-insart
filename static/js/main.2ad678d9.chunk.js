(this["webpackJsonptest-for-insart"]=this["webpackJsonptest-for-insart"]||[]).push([[0],{12:function(e,t,n){e.exports={footer:"Footer_footer__20diX",fixedFooter:"Footer_fixedFooter__4I-ON",symbol:"Footer_symbol__3QIpz"}},15:function(e,t,n){e.exports={converter:"CurrencyConverter_converter__gdxIa",btn:"CurrencyConverter_btn__1Kylh",icon:"CurrencyConverter_icon__1Lc5x"}},20:function(e,t,n){e.exports={input:"CurrencyRow_input__2cOxU",select:"CurrencyRow_select__1tYNY"}},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(13),s=n.n(a),u=n(3),o=n(21),i=n(19),l=n.n(i),j=n(22),d=n(4),b=Object(d.c)("exchRates/getExchRates",function(){var e=Object(j.a)(l.a.mark((function e(t,n){var c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.rejectWithValue,e.prev=1,e.next=4,fetch("".concat("https://api.privatbank.ua/p24api/pubinfo?json&exchange&coursid=5")).then((function(e){return e.ok?e.json():Promise.reject(new Error("No exchange rates found"))}));case 4:return r=e.sent,e.abrupt("return",Array.isArray(r)?r:[]);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",c(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),h=function(e){return e.exchangeRates.exchRates},f=function(e){return e.exchangeRates.isLoading},x=function(e){return e.requestCounter.requestCounter},O=Object(d.b)("requestCounter/increase"),y=n(6),g=n.n(y),m=n(0),C=function(){var e=Object(u.c)(h),t=Object(u.c)(f);return Object(m.jsx)("div",{className:"container",children:t?Object(m.jsx)("h3",{className:"message",children:"Loading... "}):Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("table",{className:g.a.table,children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{className:g.a.thead,children:[Object(m.jsx)("th",{className:g.a.thText,children:"Exchange rates"}),Object(m.jsx)("th",{className:g.a.thText,children:"Buy"}),Object(m.jsx)("th",{className:g.a.thText,children:"Sell"})]})}),Object(m.jsx)("tbody",{children:e.map((function(e){var t=e.ccy,n=e.base_ccy,c=e.buy,r=e.sale;return Object(m.jsxs)("tr",{children:[Object(m.jsxs)("td",{className:g.a.tdText,children:[t," / ",n]}),Object(m.jsx)("td",{className:g.a.tdText,children:Math.round(100*c)/100}),Object(m.jsx)("td",{className:g.a.tdText,children:Math.round(100*r)/100})]},t)}))})]})})})},_=n(10),v=n(9),p=n(20),N=n.n(p),R=function(e){var t=e.selectedCurrency,n=e.onChangeCurrency,c=e.amount,r=e.onChangeAmount,a=Object(u.c)(h),s=Object(v.a)(new Set([].concat(Object(v.a)(a.map((function(e){return e.ccy}))),Object(v.a)(a.map((function(e){return e.base_ccy}))))));return Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"number",className:N.a.input,value:c,onChange:r}),Object(m.jsx)("select",{value:t,onChange:n,className:N.a.select,children:s.map((function(e){return Object(m.jsx)("option",{value:e,children:e},e)}))})]})},T=n.p+"static/media/sprite.61e7aa6e.svg",E=n(15),w=n.n(E);function S(e){var t=e.exchangeRates,n=e.fromCurrency,c=e.toCurrency;return n===c?1:"UAH"===n&&"BTC"===c?function(e){var t=e.exchangeRates,n=t.find((function(e){return"USD"===e.ccy})).sale,c=t.find((function(e){return"BTC"===e.ccy})).sale;return 1/n/c}({exchangeRates:t}):"EUR"!==n&&"RUR"!==n||"BTC"!==c?"BTC"===n&&"UAH"===c?B({exchangeRates:t}):"BTC"!==n||"EUR"!==c&&"RUR"!==c?"UAH"!==n&&"UAH"!==c&&"BTC"!==n&&"BTC"!==c?function(e){var t=e.exchangeRates,n=e.fromCurrency,c=e.toCurrency,r=t.find((function(e){return n===e.ccy})).buy,a=t.find((function(e){return c===e.ccy})).sale;return r/a}({exchangeRates:t,fromCurrency:n,toCurrency:c}):t.find((function(e){return n===e.ccy&&c===e.base_ccy}))?t.find((function(e){return n===e.ccy&&c===e.base_ccy})).buy:t.find((function(e){return n===e.base_ccy&&c===e.ccy}))?1/t.find((function(e){return n===e.base_ccy&&c===e.ccy})).sale:void 0:function(e){var t=e.exchangeRates,n=e.toCurrency,c=B(),r=t.find((function(e){return n===e.ccy})).sale;return c/r}({exchangeRates:t,toCurrency:c}):function(e){var t=e.exchangeRates,n=e.fromCurrency,c=t.find((function(e){return n===e.ccy})).buy,r=t.find((function(e){return"USD"===e.ccy})).sale,a=t.find((function(e){return"BTC"===e.ccy})).sale;return c/r/a}({exchangeRates:t,fromCurrency:n})}function B(e){var t=e.exchangeRates;return 1*t.find((function(e){return"BTC"===e.ccy})).buy*t.find((function(e){return"USD"===e.ccy})).buy}var H=function(){var e=Object(u.c)(h),t=Object(c.useState)(e[0].ccy),n=Object(_.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(e[0].base_ccy),o=Object(_.a)(s,2),i=o[0],l=o[1],j=Object(c.useState)(e[0].buy),d=Object(_.a)(j,2),b=d[0],f=d[1],x=Object(c.useState)(1e3),O=Object(_.a)(x,2),y=O[0],g=O[1],C=Object(c.useState)(1e3*b),v=Object(_.a)(C,2),p=v[0],N=v[1];return Object(c.useEffect)((function(){f(S({exchangeRates:e,fromCurrency:r,toCurrency:i}))}),[r,i]),Object(c.useEffect)((function(){N(Math.round(y*b*100)/100)}),[b]),Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:w.a.converter,children:[Object(m.jsx)(R,{selectedCurrency:r,onChangeCurrency:function(e){return a(e.target.value)},amount:y,onChangeAmount:function(e){g(Math.round(100*e.target.value)/100),N(Math.round(e.target.value*b*100)/100)}}),Object(m.jsx)("button",{className:w.a.btn,type:"button",onClick:function(){var e=r;a(i),l(e)},children:Object(m.jsx)("svg",{className:w.a.icon,children:Object(m.jsx)("use",{href:T+"#icontransfer"})})}),Object(m.jsx)(R,{selectedCurrency:i,onChangeCurrency:function(e){return l(e.target.value)},amount:p,onChangeAmount:function(e){N(Math.round(100*e.target.value)/100),g(Math.round(e.target.value/b*100)/100)}})]})})},U=n(12),A=n.n(U);function k(){return Object(m.jsx)("footer",{className:"".concat(A.a.footer," ").concat(window.innerHeight>520&&A.a.fixedFooter),children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("p",{className:A.a.text,children:[Object(m.jsx)("span",{className:A.a.symbol,children:"\xa9"})," 2021 All rights reserved"]})})})}var q=n(8),F=n.n(q),M=function(){return Object(m.jsx)("header",{className:F.a.header,children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:F.a.flexContainer,children:[Object(m.jsx)("svg",{className:F.a.icon,children:Object(m.jsx)("use",{href:T+"#iconcalculator"})}),Object(m.jsxs)("div",{className:F.a.logo,children:[Object(m.jsx)("p",{className:F.a.text,children:"Currency"}),Object(m.jsx)("p",{className:F.a.text,children:"Exchange"})]}),Object(m.jsx)("p",{className:F.a.date,children:(new Date).toLocaleDateString()})]})})})};function L(){var e=Object(u.b)(),t=Object(u.c)(h),n=Object(u.c)(x);return Object(c.useEffect)((function(){t.length>0||(e(b()),e(O()))}),[e]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(M,{}),5===n&&Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"body",children:Object(m.jsx)("h4",{className:"message",children:"You have exceeded the allowed number of requests, try using the service a little later"})})}),t.length>0&&n<5&&Object(m.jsxs)("div",{className:"body",children:[Object(m.jsx)(C,{})," ",Object(m.jsx)(H,{})]}),Object(m.jsx)(k,{})]})}var D,I,Y=n(7),z=n(23),K=n.n(z),J=n(5),V=n(2),X=Object(d.d)(0,Object(J.a)({},O,(function(e,t){t.payload;return 5===e?1:e+=1}))),P=Object(V.b)({requestCounter:X}),Q=Object(d.d)([],Object(J.a)({},b.fulfilled,(function(e,t){return t.payload}))),W=Object(d.d)(!1,(D={},Object(J.a)(D,b.pending,(function(){return!0})),Object(J.a)(D,b.fulfilled,(function(){return!1})),Object(J.a)(D,b.rejected,(function(){return!1})),D)),Z=Object(d.d)(null,(I={},Object(J.a)(I,b.pending,(function(){return null})),Object(J.a)(I,b.rejected,(function(e,t){return t.payload})),I)),G=Object(V.b)({exchRates:Q,isLoading:W,error:Z}),$=Object(v.a)(Object(d.e)({serializableCheck:{ignoredActions:[Y.a,Y.f,Y.b,Y.c,Y.d,Y.e]}})),ee={key:"requestCounter",storage:K.a,whitelist:["requestCounter"]},te=Object(d.a)({reducer:{exchangeRates:G,requestCounter:Object(Y.g)(ee,P)},middleware:$,devTools:!1}),ne=Object(Y.h)(te);n(36);s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(o.a,{loading:null,persistor:ne,children:Object(m.jsx)(u.a,{store:te,children:Object(m.jsx)(L,{})})})}),document.getElementById("root"))},6:function(e,t,n){e.exports={table:"ExchangeTable_table__1sCud",thText:"ExchangeTable_thText__1j9LK",tdText:"ExchangeTable_tdText__3RKt5"}},8:function(e,t,n){e.exports={header:"Header_header__1hZro",flexContainer:"Header_flexContainer__2T-s9",logo:"Header_logo__HSCnC",text:"Header_text__28zE1",icon:"Header_icon__2VEX1",date:"Header_date__2YOgB"}}},[[37,1,2]]]);
//# sourceMappingURL=main.2ad678d9.chunk.js.map