{"version":3,"sources":["components/Footer/Footer.module.css","components/CurrencyConverter/CurrencyConverter.module.css","components/CurrencyRow/CurrencyRow.module.css","redux/exchangeRates/exchangeRatesOperations.js","utils/apiServices.js","redux/exchangeRates/exchangeRatesSelectors.js","redux/requestCounter/requestCounterSelectors.js","redux/requestCounter/requestCounterActions.js","components/ExchangeTable/ExchangeTable.js","components/CurrencyRow/CurrencyRow.js","utils/sprite.svg","utils/calcExchRate.js","components/CurrencyConverter/CurrencyConverter.js","components/Footer/Footer.js","components/Header/Header.js","components/App.js","redux/requestCounter/requestCounterReducer.js","redux/exchangeRates/exchangeRatesReducer.js","redux/store.js","index.js","components/ExchangeTable/ExchangeTable.module.css","components/Header/Header.module.css"],"names":["module","exports","getExchRates","createAsyncThunk","_","a","rejectWithValue","fetch","then","r","ok","json","Promise","reject","Error","ratesGet","Array","isArray","message","getExchangeRates","state","exchangeRates","exchRates","getIsLoading","isLoading","getRequestCounter","requestCounter","increaseRequestCounter","createAction","ExchangeTable","useSelector","className","s","table","thead","thText","map","ccy","base_ccy","buy","sale","tdText","Math","round","CurrencyRow","selectedCurrency","onChangeCurrency","amount","onChangeAmount","currencyList","Set","type","input","value","onChange","select","calcExchRate","fromCurrency","toCurrency","toUSD","find","obj","toBTC","getCrossRateUahBtc","getCrossRateBtcUah","toUAH","uahToCur","getCrossRate","toCur","getCrossRateBtcToEurOrRuR","getCrossRateEurOrRuRtoBtc","CurrencyConverter","useState","setFromCurrency","setToCurrency","exchRate","setExchRate","fromAmount","setFromAmount","toAmount","setToAmount","useEffect","converter","e","target","btn","onClick","temp","icon","href","sprite","Footer","footer","window","innerHeight","fixedFooter","text","symbol","Header","header","flexContainer","logo","date","Date","toLocaleDateString","App","dispatch","useDispatch","length","reqCounterReducer","createReducer","actions","payload","requestCounterReducer","combineReducers","exchRatesReducer","fulfilled","isLoadingReducer","pending","rejected","errorReducer","exchangeRatesReducers","error","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistConfigRequestCounter","key","storage","whitelist","store","configureStore","reducer","persistReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.2ad678d9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__20diX\",\"fixedFooter\":\"Footer_fixedFooter__4I-ON\",\"symbol\":\"Footer_symbol__3QIpz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"converter\":\"CurrencyConverter_converter__gdxIa\",\"btn\":\"CurrencyConverter_btn__1Kylh\",\"icon\":\"CurrencyConverter_icon__1Lc5x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"CurrencyRow_input__2cOxU\",\"select\":\"CurrencyRow_select__1tYNY\"};","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { apiGetRates } from '../../utils/apiServices';\r\n\r\nexport const getExchRates = createAsyncThunk(\r\n  'exchRates/getExchRates',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const ratesGet = await apiGetRates();\r\n      return Array.isArray(ratesGet) ? ratesGet : [];\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n","const BASE_URL =\r\n  'https://api.privatbank.ua/p24api/pubinfo?json&exchange&coursid=5';\r\n\r\nexport const apiGetRates = () => {\r\n  return fetch(`${BASE_URL}`).then(r => {\r\n    if (r.ok) {\r\n      return r.json();\r\n    }\r\n    return Promise.reject(new Error('No exchange rates found'));\r\n  });\r\n};\r\n","export const getExchangeRates = state => state.exchangeRates.exchRates;\r\nexport const getIsLoading = state => state.exchangeRates.isLoading;\r\nexport const getError = state => state.exchangeRates.error;\r\n","export const getRequestCounter = (state) => state.requestCounter.requestCounter;\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const increaseRequestCounter = createAction(\"requestCounter/increase\");\r\n","import { useSelector } from 'react-redux';\r\nimport {\r\n  getExchangeRates,\r\n  getIsLoading,\r\n} from '../../redux/exchangeRates/exchangeRatesSelectors';\r\n\r\nimport s from './ExchangeTable.module.css';\r\n\r\nconst ExchangeTable = () => {\r\n  const exchangeRates = useSelector(getExchangeRates);\r\n  const isLoading = useSelector(getIsLoading);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {isLoading ? (\r\n        <h3 className=\"message\">Loading... </h3>\r\n      ) : (\r\n        <>\r\n          <table className={s.table}>\r\n            <thead>\r\n              <tr className={s.thead}>\r\n                <th className={s.thText}>Exchange rates</th>\r\n                <th className={s.thText}>Buy</th>\r\n                <th className={s.thText}>Sell</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {exchangeRates.map(({ ccy, base_ccy, buy, sale }) => (\r\n                <tr key={ccy}>\r\n                  <td className={s.tdText}>\r\n                    {ccy} / {base_ccy}\r\n                  </td>\r\n                  <td className={s.tdText}>{Math.round(buy * 100) / 100}</td>\r\n                  <td className={s.tdText}>{Math.round(sale * 100) / 100}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExchangeTable;\r\n","import { useSelector } from 'react-redux';\r\nimport { getExchangeRates } from '../../redux/exchangeRates/exchangeRatesSelectors';\r\n\r\nimport s from './CurrencyRow.module.css';\r\n\r\nconst CurrencyRow = ({\r\n  selectedCurrency,\r\n  onChangeCurrency,\r\n  amount,\r\n  onChangeAmount,\r\n}) => {\r\n  const exchangeRates = useSelector(getExchangeRates);\r\n\r\n  const currencyList = [\r\n    ...new Set([\r\n      ...exchangeRates.map(({ ccy }) => ccy),\r\n      ...exchangeRates.map(({ base_ccy }) => base_ccy),\r\n    ]),\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <input\r\n        type=\"number\"\r\n        className={s.input}\r\n        value={amount}\r\n        onChange={onChangeAmount}\r\n      />\r\n      <select\r\n        value={selectedCurrency}\r\n        onChange={onChangeCurrency}\r\n        className={s.select}\r\n      >\r\n        {currencyList.map(ccy => (\r\n          <option key={ccy} value={ccy}>\r\n            {ccy}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CurrencyRow;\r\n","export default __webpack_public_path__ + \"static/media/sprite.61e7aa6e.svg\";","export default function calcExchRate({\r\n  exchangeRates,\r\n  fromCurrency,\r\n  toCurrency,\r\n}) {\r\n  if (fromCurrency === toCurrency) {\r\n    return 1;\r\n  }\r\n  if (fromCurrency === 'UAH' && toCurrency === 'BTC') {\r\n    return getCrossRateUahBtc({ exchangeRates });\r\n  }\r\n  if (\r\n    (fromCurrency === 'EUR' || fromCurrency === 'RUR') &&\r\n    toCurrency === 'BTC'\r\n  ) {\r\n    return getCrossRateEurOrRuRtoBtc({ exchangeRates, fromCurrency });\r\n  }\r\n  if (fromCurrency === 'BTC' && toCurrency === 'UAH') {\r\n    return getCrossRateBtcUah({ exchangeRates });\r\n  }\r\n  if (\r\n    fromCurrency === 'BTC' &&\r\n    (toCurrency === 'EUR' || toCurrency === 'RUR')\r\n  ) {\r\n    return getCrossRateBtcToEurOrRuR({ exchangeRates, toCurrency });\r\n  }\r\n\r\n  if (\r\n    fromCurrency !== 'UAH' &&\r\n    toCurrency !== 'UAH' &&\r\n    fromCurrency !== 'BTC' &&\r\n    toCurrency !== 'BTC'\r\n  ) {\r\n    return getCrossRate({ exchangeRates, fromCurrency, toCurrency });\r\n  }\r\n\r\n  if (\r\n    exchangeRates.find(\r\n      obj => fromCurrency === obj.ccy && toCurrency === obj.base_ccy,\r\n    )\r\n  ) {\r\n    return exchangeRates.find(\r\n      obj => fromCurrency === obj.ccy && toCurrency === obj.base_ccy,\r\n    ).buy;\r\n  }\r\n\r\n  if (\r\n    exchangeRates.find(\r\n      obj => fromCurrency === obj.base_ccy && toCurrency === obj.ccy,\r\n    )\r\n  ) {\r\n    return (\r\n      1 /\r\n      exchangeRates.find(\r\n        obj => fromCurrency === obj.base_ccy && toCurrency === obj.ccy,\r\n      ).sale\r\n    );\r\n  }\r\n}\r\n\r\nfunction getCrossRate({ exchangeRates, fromCurrency, toCurrency }) {\r\n  const toUAH = exchangeRates.find(obj => fromCurrency === obj.ccy).buy;\r\n  const uahToCur = exchangeRates.find(obj => toCurrency === obj.ccy).sale;\r\n  return toUAH / uahToCur;\r\n}\r\nfunction getCrossRateUahBtc({ exchangeRates }) {\r\n  const toUSD = exchangeRates.find(obj => obj.ccy === 'USD').sale;\r\n  const toBTC = exchangeRates.find(obj => obj.ccy === 'BTC').sale;\r\n  return 1 / toUSD / toBTC;\r\n}\r\nfunction getCrossRateEurOrRuRtoBtc({ exchangeRates, fromCurrency }) {\r\n  const toUAH = exchangeRates.find(obj => fromCurrency === obj.ccy).buy;\r\n  const toUSD = exchangeRates.find(obj => obj.ccy === 'USD').sale;\r\n  const toBTC = exchangeRates.find(obj => obj.ccy === 'BTC').sale;\r\n  return toUAH / toUSD / toBTC;\r\n}\r\nfunction getCrossRateBtcUah({ exchangeRates }) {\r\n  const toUSD = exchangeRates.find(obj => obj.ccy === 'BTC').buy;\r\n  const toUAH = exchangeRates.find(obj => obj.ccy === 'USD').buy;\r\n  return 1 * toUSD * toUAH;\r\n}\r\n\r\nfunction getCrossRateBtcToEurOrRuR({ exchangeRates, toCurrency }) {\r\n  const toUAH = getCrossRateBtcUah();\r\n  const toCur = exchangeRates.find(obj => toCurrency === obj.ccy).sale;\r\n  return toUAH / toCur;\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { getExchangeRates } from '../../redux/exchangeRates/exchangeRatesSelectors';\r\nimport CurrencyRow from '../CurrencyRow/CurrencyRow';\r\nimport sprite from '../../utils/sprite.svg';\r\nimport s from './CurrencyConverter.module.css';\r\nimport calcExchRate from '../../utils/calcExchRate';\r\n\r\nconst CurrencyConverter = () => {\r\n  const exchangeRates = useSelector(getExchangeRates);\r\n  const [fromCurrency, setFromCurrency] = useState(exchangeRates[0].ccy);\r\n  const [toCurrency, setToCurrency] = useState(exchangeRates[0].base_ccy);\r\n  const [exchRate, setExchRate] = useState(exchangeRates[0].buy);\r\n  const [fromAmount, setFromAmount] = useState(1000);\r\n  const [toAmount, setToAmount] = useState(1000 * exchRate);\r\n\r\n  useEffect(() => {\r\n    setExchRate(\r\n      calcExchRate({\r\n        exchangeRates,\r\n        fromCurrency,\r\n        toCurrency,\r\n      }),\r\n    );\r\n  }, [fromCurrency, toCurrency]); /* eslint-disable-line*/\r\n\r\n  useEffect(() => {\r\n    setToAmount(Math.round(fromAmount * exchRate * 100) / 100);\r\n  }, [exchRate]); /* eslint-disable-line*/\r\n\r\n  function onClickReverse() {\r\n    const temp = fromCurrency;\r\n    setFromCurrency(toCurrency);\r\n    setToCurrency(temp);\r\n  }\r\n\r\n  function handleChangeFromAmount(e) {\r\n    setFromAmount(Math.round(e.target.value * 100) / 100);\r\n    setToAmount(Math.round(e.target.value * exchRate * 100) / 100);\r\n  }\r\n\r\n  function handleChangeToAmount(e) {\r\n    setToAmount(Math.round(e.target.value * 100) / 100);\r\n    setFromAmount(Math.round((e.target.value / exchRate) * 100) / 100);\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className={s.converter}>\r\n        <CurrencyRow\r\n          selectedCurrency={fromCurrency}\r\n          onChangeCurrency={e => setFromCurrency(e.target.value)}\r\n          amount={fromAmount}\r\n          onChangeAmount={handleChangeFromAmount}\r\n        />\r\n        <button className={s.btn} type=\"button\" onClick={onClickReverse}>\r\n          <svg className={s.icon}>\r\n            <use href={sprite + '#icontransfer'} />\r\n          </svg>\r\n        </button>\r\n        <CurrencyRow\r\n          selectedCurrency={toCurrency}\r\n          onChangeCurrency={e => setToCurrency(e.target.value)}\r\n          amount={toAmount}\r\n          onChangeAmount={handleChangeToAmount}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CurrencyConverter;\r\n","import React from 'react';\r\nimport s from './Footer.module.css';\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer\r\n      className={`${s.footer} ${window.innerHeight > 520 && s.fixedFooter}`}\r\n    >\r\n      <div className=\"container\">\r\n        <p className={s.text}>\r\n          <span className={s.symbol}>&copy;</span> 2021 All rights reserved\r\n        </p>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n","import s from './Header.module.css';\r\nimport sprite from '../../utils/sprite.svg';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className={s.header}>\r\n      <div className=\"container\">\r\n        <div className={s.flexContainer}>\r\n          <svg className={s.icon}>\r\n            <use href={sprite + '#iconcalculator'} />\r\n          </svg>\r\n          <div className={s.logo}>\r\n            <p className={s.text}>Currency</p>\r\n            <p className={s.text}>Exchange</p>\r\n          </div>\r\n          <p className={s.date}>{new Date().toLocaleDateString()}</p>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getExchRates } from '../redux/exchangeRates/exchangeRatesOperations';\r\nimport { getExchangeRates } from '../redux/exchangeRates/exchangeRatesSelectors';\r\nimport { getRequestCounter } from '../redux/requestCounter/requestCounterSelectors';\r\nimport { increaseRequestCounter } from '../redux/requestCounter/requestCounterActions';\r\n\r\nimport ExchangeTable from './ExchangeTable/ExchangeTable';\r\nimport CurrencyConverter from './CurrencyConverter/CurrencyConverter';\r\nimport Footer from './Footer/Footer';\r\nimport Header from './Header/Header';\r\n\r\nexport default function App() {\r\n  const dispatch = useDispatch();\r\n  const exchangeRates = useSelector(getExchangeRates);\r\n  const requestCounter = useSelector(getRequestCounter);\r\n\r\n  useEffect(() => {\r\n    if (exchangeRates.length > 0) {\r\n      return;\r\n    }\r\n    dispatch(getExchRates());\r\n    dispatch(increaseRequestCounter());\r\n  }, [dispatch]); /* eslint-disable-line*/\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      {requestCounter === 5 && (\r\n        <div className=\"container\">\r\n          <div className=\"body\">\r\n            <h4 className=\"message\">\r\n              You have exceeded the allowed number of requests, try using the\r\n              service a little later\r\n            </h4>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {exchangeRates.length > 0 && requestCounter < 5 && (\r\n        <div className=\"body\">\r\n          <ExchangeTable /> <CurrencyConverter />\r\n        </div>\r\n      )}\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n","import { createReducer } from '@reduxjs/toolkit';\r\nimport { combineReducers } from 'redux';\r\nimport * as actions from './requestCounterActions';\r\n\r\nconst reqCounterReducer = createReducer(0, {\r\n  [actions.increaseRequestCounter]: (state, { payload }) =>\r\n    state === 5 ? 1 : (state += 1),\r\n});\r\n\r\nexport const requestCounterReducer = combineReducers({\r\n  requestCounter: reqCounterReducer,\r\n});\r\n","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport { getExchRates } from \"./exchangeRatesOperations\";\r\n\r\nconst exchRatesReducer = createReducer([], {\r\n  [getExchRates.fulfilled]: (_, { payload }) => payload,\r\n});\r\n\r\nconst isLoadingReducer = createReducer(false, {\r\n  [getExchRates.pending]: () => true,\r\n  [getExchRates.fulfilled]: () => false,\r\n  [getExchRates.rejected]: () => false,\r\n});\r\n\r\nconst setError = (_, { payload }) => payload;\r\nconst resetError = () => null;\r\n\r\nconst errorReducer = createReducer(null, {\r\n  [getExchRates.pending]: resetError,\r\n  [getExchRates.rejected]: setError,\r\n});\r\n\r\nconst exchangeRatesReducers = combineReducers({\r\n  exchRates: exchRatesReducer,\r\n  isLoading: isLoadingReducer,\r\n  error: errorReducer,\r\n});\r\n\r\nexport default exchangeRatesReducers;\r\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nimport { requestCounterReducer } from \"./requestCounter/requestCounterReducer\";\r\nimport exchangeRatesReducers from \"./exchangeRates/exchangeRatesReducer\";\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n];\r\n\r\nconst persistConfigRequestCounter = {\r\n  key: \"requestCounter\",\r\n  storage,\r\n  whitelist: [\"requestCounter\"],\r\n};\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    exchangeRates: exchangeRatesReducers,\r\n    requestCounter: persistReducer(\r\n      persistConfigRequestCounter,\r\n      requestCounterReducer\r\n    ),\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === \"development\",\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport App from './components/App';\nimport { store, persistor } from './redux/store';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <PersistGate loading={null} persistor={persistor}>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </PersistGate>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"ExchangeTable_table__1sCud\",\"thText\":\"ExchangeTable_thText__1j9LK\",\"tdText\":\"ExchangeTable_tdText__3RKt5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1hZro\",\"flexContainer\":\"Header_flexContainer__2T-s9\",\"logo\":\"Header_logo__HSCnC\",\"text\":\"Header_text__28zE1\",\"icon\":\"Header_icon__2VEX1\",\"date\":\"Header_date__2YOgB\"};"],"sourceRoot":""}